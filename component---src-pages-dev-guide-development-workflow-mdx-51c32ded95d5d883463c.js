"use strict";(self.webpackChunkelyra_ai_site=self.webpackChunkelyra_ai_site||[]).push([[6950],{4530:function(e,t,a){a.r(t),a.d(t,{Title:function(){return o},_frontmatter:function(){return s},default:function(){return k}});var n=a(3366),l=(a(7294),a(4983)),r=a(4295),i=["components"],o=function(){return(0,l.kt)("span",null,"Development Workflow")},s={},p=function(e){return function(t){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),(0,l.kt)("div",t)}},c=p("PageDescription"),u=p("InlineNotification"),m={Title:o,_frontmatter:s},d=r.Z;function k(e){var t=e.components,a=(0,n.Z)(e,i);return(0,l.kt)(d,Object.assign({},m,a,{components:t,mdxType:"MDXLayout"}),(0,l.kt)(c,{mdxType:"PageDescription"},(0,l.kt)("p",null,"This section describes the steps necessary to build Elyra in a development environment.")),(0,l.kt)("h3",null,"Requirements"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://docs.conda.io/en/latest/miniconda.html"},"Python 3 Miniconda")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://nodejs.org/en/"},"NodeJS 12+")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("a",{parentName:"li",href:"https://yarnpkg.com/lang/en/docs/install"},"Yarn"))),(0,l.kt)("h2",null,"Setting up your development environment"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"Install Miniconda\nDownload and install a ",(0,l.kt)("a",{parentName:"p",href:"https://docs.conda.io/en/latest/miniconda.html"},"Python 3 version of Miniconda")," according to your Operating System")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"Create a new Python environment"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre"},"conda create -n <env-name> python\n")),(0,l.kt)("p",{parentName:"li"},"  The python version of your environment will match the miniconda version you installed. You can override the default by explicitly setting ",(0,l.kt)("inlineCode",{parentName:"p"},"python=3.7"),", for example.")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"Activate the new environment"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre"},"conda activate <env-name>\n"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"Verify your miniconda environment"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre"},"python --version\nwhich python # Displays current python path\npip3 --version\nwhich pip3\n")),(0,l.kt)("p",{parentName:"li"},"  Python path must be under miniconda envs folder.\nConfirm pip3 location matches where miniconda is installed.")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"Install NodeJS"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre"},"conda install -y -c conda-forge/label/main nodejs\n")))),(0,l.kt)("h2",null,"Setting up your Elyra Github repository"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"Fork the ",(0,l.kt)("a",{parentName:"p",href:"https://github.com/elyra-ai/elyra"},"Elyra Github repository")," (if you haven’t already)")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"Make a local copy of Elyra fork"),(0,l.kt)("pre",{parentName:"li"},(0,l.kt)("code",{parentName:"pre"},"git clone https://github.com/<your-github-id>/elyra.git\ncd elyra\n"))),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"Set ",(0,l.kt)("inlineCode",{parentName:"p"},"upstream")," as described in the ",(0,l.kt)("a",{parentName:"p",href:"https://docs.github.com/en/github/collaborating-with-issues-and-pull-requests/configuring-a-remote-for-a-fork"},"GitHub documentation")))),(0,l.kt)("h2",null,"Building"),(0,l.kt)("p",null,"Elyra is divided in two parts, a collection of Jupyter Notebook backend extensions,\nand their respective JupyterLab UI extensions. Our JupyterLab extensions are located in our ",(0,l.kt)("inlineCode",{parentName:"p"},"packages"),"\ndirectory. "),(0,l.kt)("h3",null,"Build & Installation"),(0,l.kt)("p",null,"Elyra uses ",(0,l.kt)("inlineCode",{parentName:"p"},"make")," to automate some of the development workflow tasks."),(0,l.kt)("p",null,"Issuing a ",(0,l.kt)("inlineCode",{parentName:"p"},"make")," command with no task specified will provide a list of the currently supported tasks."),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"$ make\n\nclean                          Make a clean source tree and uninstall extensions\ncontainer-images               Build all container images\ndocs                           Build docs\ninstall-server                 Build and install backend only\ninstall                        Build and install\nlint                           Run linters\npublish-container-images       Publish all container images\nrelease                        Build wheel file for release\ntest                           Run all tests (backend, frontend and cypress integration tests)\nwatch                          Watch packages. For use alongside jupyter lab --watch\n")),(0,l.kt)("p",null,"You can build and install all Elyra packages with:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"make clean install\n")),(0,l.kt)("p",null,"You can check that the notebook server extension was successfully installed with:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"jupyter serverextension list\n")),(0,l.kt)("p",null,"You can check that the JupyterLab extension was successfully installed with:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"jupyter labextension list\n")),(0,l.kt)(u,{mdxType:"InlineNotification"},(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Note:")," When switching between Elyra major versions, it is recommended to clean your JupyterLab environment before a build.\nThe ",(0,l.kt)("inlineCode",{parentName:"p"},"clean-jupyterlab")," removes your JupyterLab packages and completely deletes your Jupyter workspace.\nMake sure to backup any important data in your environment before running the script.")),(0,l.kt)("p",null,"To clean your environment and install the latest JupyterLab:\n",(0,l.kt)("inlineCode",{parentName:"p"},"etc/scripts/clean-jupyterlab.sh"),"\nTo specify a JupyterLab version to be installed:\n",(0,l.kt)("inlineCode",{parentName:"p"},"etc/scripts/clean-jupyterlab.sh --version 2.2.9")),(0,l.kt)("h3",null,"Parallel Development with @elyra/pipeline-editor"),(0,l.kt)("p",null,"You can install Elyra using a local build of @elyra/pipeline-editor with:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"make clean dev-link install\n")),(0,l.kt)("h2",null,"Back-end Development"),(0,l.kt)("p",null,"After making code changes to the back-end, you can re-build Elyra’s Python package with:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"make install-server\n")),(0,l.kt)("p",null,"This command builds and installs the updated  Python package independently, skipping any UI component build."),(0,l.kt)("p",null,"Restart JupyterLab to pick up the new code changes."),(0,l.kt)("h2",null,"Front-end Incremental Development"),(0,l.kt)("p",null,"Elyra supports incremental development using ",(0,l.kt)("inlineCode",{parentName:"p"},"--watch"),". This allows you to make code changes to\nfront-end packages and see them without running ",(0,l.kt)("inlineCode",{parentName:"p"},"make install")," again."),(0,l.kt)("p",null,"After installation run the following to watch for code changes and rebuild automatically:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"make watch\n")),(0,l.kt)("p",null,"Then in a separate terminal, using the same Python environment, start JupyterLab in watch mode:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"jupyter lab --watch\n")),(0,l.kt)("p",null,"When in watch mode JupyterLab will watch for changes in the build of each package and rebuild.\nTo see your changes just refresh JupyterLab in your browser."),(0,l.kt)(u,{mdxType:"InlineNotification"},(0,l.kt)("p",null,(0,l.kt)("strong",{parentName:"p"},"Note:")," JupyterLab watch mode will not pick up changes in package dependencies like ",(0,l.kt)("inlineCode",{parentName:"p"},"services"),".\nSo when making changes to services you will need to stop and restart ",(0,l.kt)("inlineCode",{parentName:"p"},"jupyter lab --watch")," and\nnot just refresh your browser.")),(0,l.kt)("h2",null,"Building the Elyra Container Image"),(0,l.kt)("p",null,"Elyra’s container image can be built using:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"make elyra-image\n")),(0,l.kt)("p",null,"By default, the command above will build a container image from the tip of the repository main branch."),(0,l.kt)("p",null,"In order to build from a particular release, you can pass a ",(0,l.kt)("inlineCode",{parentName:"p"},"TAG")," parameter to the make command as below:"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-bash"},"make elyra-image TAG=2.2.1\n")),(0,l.kt)("p",null,"Official container images are published on ",(0,l.kt)("a",{parentName:"p",href:"https://hub.docker.com/r/elyra/elyra/tags"},"Docker Hub"),"\nand ",(0,l.kt)("a",{parentName:"p",href:"https://quay.io/repository/elyra/elyra?tab=tags"},"quay.io"),"."))}k.isMDXComponent=!0},4295:function(e,t,a){a.d(t,{Z:function(){return v}});var n=a(7294),l=a(8650),r=a.n(l),i=a(5444),o=a(9403),s=a(5611),p=a(5900),c=a.n(p),u=function(e){var t,a=e.title,l=e.theme,r=e.tabs,i=void 0===r?[]:r;return n.createElement("div",{className:c()("PageHeader-module--page-header--NqfPe",(t={},t["PageHeader-module--with-tabs--vbQ-W"]=i.length,t["PageHeader-module--dark-mode--WCeH8"]="dark"===l,t))},n.createElement("div",{className:"bx--grid"},n.createElement("div",{className:"bx--row"},n.createElement("div",{className:"bx--col-lg-12"},n.createElement("h1",{id:"page-title",className:"PageHeader-module--text--Er2EO"},a)))))},m=function(e){var t=e.relativePagePath,a=e.repository,l=(0,i.useStaticQuery)("1364590287").site.siteMetadata.repository,r=a||l,o=r.baseUrl,s=r.subDirectory,p=o+"/edit/"+r.branch+s+"/src/pages"+t;return o?n.createElement("div",{className:"bx--row EditLink-module--row--BEmSX"},n.createElement("div",{className:"bx--col"},n.createElement("a",{className:"EditLink-module--link--IDrl1",href:p},"Edit this page on GitHub"))):null},d=a(4275),k=a(1721),h=function(e){function t(){return e.apply(this,arguments)||this}return(0,k.Z)(t,e),t.prototype.render=function(){var e=this.props,t=e.title,a=e.tabs,l=e.slug,o=l.split("/").filter(Boolean).slice(-1)[0],s=a.map((function(e){var t,a=r()(e,{lower:!0,strict:!0}),s=a===o,p=new RegExp(o+"/?(#.*)?$"),u=l.replace(p,a);return n.createElement("li",{key:e,className:c()((t={},t["PageTabs-module--selected-item--aBB0K"]=s,t),"PageTabs-module--list-item--024o6")},n.createElement(i.Link,{className:"PageTabs-module--link--Kz-7R",to:""+u},e))}));return n.createElement("div",{className:"PageTabs-module--tabs-container--Cdfzw"},n.createElement("div",{className:"bx--grid"},n.createElement("div",{className:"bx--row"},n.createElement("div",{className:"bx--col-lg-12 bx--col-no-gutter"},n.createElement("nav",{"aria-label":t},n.createElement("ul",{className:"PageTabs-module--list--xLqxG"},s))))))},t}(n.Component),y=h,g=a(2881),b=a(6958),N=a(36),f=function(e){var t=e.date,a=new Date(t);return t?n.createElement(N.X2,{className:"last-modified-date-module--row--XJoYQ"},n.createElement(N.sg,null,n.createElement("div",{className:"last-modified-date-module--text--ogPQF"},"Page last updated: ",a.toLocaleDateString("en-GB",{day:"2-digit",year:"numeric",month:"long"})))):null},v=function(e){var t=e.pageContext,a=e.children,l=e.location,p=e.Title,c=t.frontmatter,k=void 0===c?{}:c,h=t.relativePagePath,N=t.titleType,v=k.tabs,w=k.title,E=k.theme,x=k.description,P=k.keywords,T=k.date,C=(0,b.Z)().interiorTheme,L=(0,i.useStaticQuery)("2456312558").site.pathPrefix,D=L?l.pathname.replace(L,""):l.pathname,J=v?D.split("/").filter(Boolean).slice(-1)[0]||r()(v[0],{lower:!0}):"",B=E||C;return n.createElement(s.Z,{tabs:v,homepage:!1,theme:B,pageTitle:w,pageDescription:x,pageKeywords:P,titleType:N},n.createElement(u,{title:p?n.createElement(p,null):w,label:"label",tabs:v,theme:B}),v&&n.createElement(y,{title:w,slug:D,tabs:v,currentTab:J}),n.createElement(g.Z,{padded:!0},a,n.createElement(m,{relativePagePath:h}),n.createElement(f,{date:T})),n.createElement(d.Z,{pageContext:t,location:l,slug:D,tabs:v,currentTab:J}),n.createElement(o.Z,null))}}}]);
//# sourceMappingURL=component---src-pages-dev-guide-development-workflow-mdx-51c32ded95d5d883463c.js.map